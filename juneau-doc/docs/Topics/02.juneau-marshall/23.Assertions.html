<!--
/***************************************************************************************************************************
 * Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *  
 *  http://www.apache.org/licenses/LICENSE-2.0
 *  
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations under the License.
 ***************************************************************************************************************************/
 -->

{9.0.0-new} 
Fluent Assertions

<p>
	The {@link oaj.assertions} package in Juneau is a powerful API for performing fluent style assertions.
	It is used throughout the REST client and server APIs for performing inline assertions on REST calls.
</p>
<h5 class='figure'>Example:</h5>
<p class='bcode w800'>
	<jc>// Create a basic REST client with JSON support and download a bean.</jc>
	MyBean <jv>bean</jv> = RestClient.<jsm>create</jsm>()
		.simpleJson()
		.build()
		.get(<jsf>URI</jsf>)
		.run()
		.assertStatus().code().is(200)
		.assertHeader(<js>"Content-Type"</js>).asString().matches(<js>"application/json*"</js>)
		.getBody().assertValue().asString().matches(<js>"*OK*"</js>)
		.getBody().as(MyBean.<jk>class</jk>);
</p>
<p>
	The {@link oaj.assertions.Assertions} class provides various static methods for invoking assertions on a variety
	of object types.
</p>
<ul class='javatree'>
	<li class='jc'>{@link oaj.assertions.Assertions}
		<ul>
			<li class='jm'>{@link oaj.assertions.Assertions#assertAny(T)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertArray(E[])}
			<li class='jm'>{@link oaj.assertions.Assertions#assertBean(V)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertBeanList(List)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertBoolean(Boolean)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertBooleanArray(boolean[])}
			<li class='jm'>{@link oaj.assertions.Assertions#assertByteArray(byte[])}
			<li class='jm'>{@link oaj.assertions.Assertions#assertBytes(byte[])}
			<li class='jm'>{@link oaj.assertions.Assertions#assertCharArray(char[])}
			<li class='jm'>{@link oaj.assertions.Assertions#assertCollection(Collection)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertComparable(T)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertDate(Date)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertDoubleArray(double[])}
			<li class='jm'>{@link oaj.assertions.Assertions#assertFloatArray(float[])}
			<li class='jm'>{@link oaj.assertions.Assertions#assertIntArray(int[])}
			<li class='jm'>{@link oaj.assertions.Assertions#assertInteger(Integer)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertList(List)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertLong(Long)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertLongArray(long[])}
			<li class='jm'>{@link oaj.assertions.Assertions#assertMap(Map)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertObject(T)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertOptional(Optional)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertReader(Reader)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertShortArray(short[])}
			<li class='jm'>{@link oaj.assertions.Assertions#assertStream(InputStream)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertString(Object)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertStringList(List)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertThrowable(V)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertThrown(Class, Snippet)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertThrown(Snippet)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertVersion(Version)}
			<li class='jm'>{@link oaj.assertions.Assertions#assertZonedDateTime(ZonedDateTime)}
		</ul>
	</li>
</ul>
<h5 class='figure'>Examples:</h5>
<p class='bcode w800'>
	<jk>import static</jk> org.apache.juneau.assertions.Assertions.*;
	
	<jc>// Check the contents of a string.</jc>
	<jsm>assertString</jsm>(<js>"foo, bar"</js>)
			.split(<js>","</js>)
			.trim()
			.has(<js>"foo"</js>, <js>"bar"</js>);

	<jc>// Extract a subset of properties from a list of beans and compare using Simplified JSON.</jc>
	List&lt;MyBean&gt; <jv>myList</jv> = ...;
	<jsm>assertBeanList</jsm>(<jv>myList</jv>)
			.extract(<js>"a,b"</js>)
			.asJson().is(<js>"[{a:1,b:'foo'}]"</js>);
	
	<jc>// Check that an exception is thrown and is the specified type and has the sppecified message.</jc>
	<jsm>assertThrown</jsm>(()-><jv>myBean</jv>.runBadMethod())
			.exists()
			.isExactType(RuntimeException.<jk>class</jk>)
			.message().is(<js>"foo"</js>);
</p>
<p>
	Assertions have 3 categories of methods:
</p>
<ul>
	<li>Testing methods.
	<li>Transform methods.
	<li>Configuration methods.
</ul>
<p>
	Testing methods perform an assertion on the specified value and throws a {@link java.lang.AssertionError} if
	the test fails.  Otherwise, the method returns the original assertion object to allow you to chain the command.
</p>
<p class='bcode w800'>
	<jc>// Test a string.</jc>
	<jsm>assertString</jsm>(<jv>myString</jv>)
			.isNotNull()  <jc>// Perform test and returns original FluentStringAssertion.</jc>
			.isNotEmpty()  <jc>// Perform test and returns original FluentStringAssertion.</jc>
	;
</p>	
<p>
	Transform methods allow you to convert assertions of one type to another type, or convert the tested value to
	some other form wrapped in another assertion.
</p>
<h5 class='figure'>Example:</h5>
<p class='bcode w800'>
	<jc>// Customize the behavior of an assertion.</jc>
	<jsm>assertString</jsm>(<jv>myString</jv>)
		.length()  <jc>// Converts to a FluentIntegerAssertion.</jc>
			.isLt(100)  <jc>// Runs test and returns original FluentStringAssertion.</jc>
		.uc()  <jc>// Converts string to uppercase and returns a new FluentStringAssertion.</jc>
			.contains(<js>"FOO"</js>)  <jc>// Runs test and returns original FluentStringAssertion.</jc>
</p>	
<p>
	Configuration methods allow you to tailor the behavior of assertions when they fail.
	They always return the same assertion object.
	Transformed assertions inherit the configurations of the created-by assertions.
</p>
<h5 class='figure'>Example:</h5>
<p class='bcode w800'>
	<jc>// Customize the behavior of an assertion.</jc>
	<jsm>assertString</jsm>(<jv>myString</jv>)
			.msg(<js>"My string was null.  Value was {VALUE}."</js>)  <jc>// Custom error message when error occurs.</jc>
			.out(<jv>myPrintWriter</jv>)  <jc>// Print error message to a separate writer.</jc>
			.throwable(MyAssertionThrowable.<jk>class</jk>)  <jc>// Throw a customized assertion exception.</jc>
			.isNotNull();
</p>	
<p>
	The following shows the class hierarchy for the {@link oaj.annotations.IntegerAssertion} class showing the general
	design pattern for assertion classes:
</p>
<ul class='javatree'>
	<li class='jac'>{@link oaj.assertions.Assertion Assertion} - Base class for all assertion objects containing common configuration methods.
	<ul>
		<li class='jac'>{@link oaj.assertions.FluentAssertion FluentAssertion&lt;R&gt;} - Parent class for all fluent assertions.
		<ul>
			<li class='jac'>{@link oaj.assertions.FluentObjectAssertion FluentObjectAssertion&lt;T,R&gt;} - Tests and transforms for general POJOs.
			<ul>
				<li class='jac'>{@link oaj.assertions.FluentComparableAssertion FluentComparableAssertion&lt;T <jk>extends</jk> Comparable,R&gt;} - Tests and transforms for Comparables.
				<ul>
					<li class='jac'>{@link oaj.assertions.FluentIntegerAssertion FluentIntegerAssertion&lt;R&gt;} - Tests and transforms for Integers.
					<ul>
						<li class='jac'>{@link oaj.assertions.IntegerAssertion IntegerAssertion} - Assertion that returns itself.
					</ul>
				</ul>
			</ul>
		</ul>
	</ul>
</ul>
<p>
	For more information about the capabilities of the Assertions API, refer to the methods on the {@link oaj.assertions.Assertions} methods
	above.
</p>


